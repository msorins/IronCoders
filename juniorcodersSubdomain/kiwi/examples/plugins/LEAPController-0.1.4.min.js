Kiwi.Plugins.LEAPController={name:"LEAPController",version:"0.1.4"};Kiwi.PluginManager.register(Kiwi.Plugins.LEAPController);Kiwi.Plugins.LEAPController.PointableObject=function(){this.active=false;this.pointableLength=undefined;this.pointableWidth=undefined;this.tipX=undefined;this.tipY=undefined;this.tipZ=undefined;this.directionX=undefined;this.directionY=undefined;this.directionZ=undefined;this.touchDistance=undefined;this.touchZone=undefined};Kiwi.Plugins.LEAPController.HandObject=function(){this.active=false;this.posX=undefined;this.posY=undefined;this.posZ=undefined;this.directionX=undefined;this.directionY=undefined;this.directionZ=undefined;this.palmNormalX=undefined;this.palmNormalY=undefined;this.palmNormalZ=undefined;this.roll=undefined;this.pitch=undefined;this.yaw=undefined;this.pointables=[new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject]};Kiwi.Plugins.LEAPController.hands=[];Kiwi.Plugins.LEAPController.hands.push(new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject);Kiwi.Plugins.LEAPController.leapControl=undefined;Kiwi.Plugins.LEAPController.active=false;Kiwi.Plugins.LEAPController.currentHand=new Kiwi.Plugins.LEAPController.HandObject;Kiwi.Plugins.LEAPController.controllerConnected=false;Kiwi.Plugins.LEAPController.onConnect=new Kiwi.Signal;Kiwi.Plugins.LEAPController.onDisconnect=new Kiwi.Signal;Kiwi.Plugins.LEAPController.createController=function(e){this.leapControl=new Leap.Controller({enableGestures:true});Kiwi.Plugins.LEAPController.leapControl.on("deviceConnected",function(){Kiwi.Plugins.LEAPController.controllerConnected=true;Kiwi.Plugins.LEAPController.onConnect.dispatch();console.log("LEAP Motion Controller connected.")});Kiwi.Plugins.LEAPController.leapControl.on("deviceFrame",function(){if(!Kiwi.Plugins.LEAPController.controllerConnected){Kiwi.Plugins.LEAPController.controllerConnected=true}});Kiwi.Plugins.LEAPController.leapControl.on("deviceDisconnected",function(){Kiwi.Plugins.LEAPController.controllerConnected=false;Kiwi.Plugins.LEAPController.onDisconnect.dispatch();console.log("LEAP Motion Controller disconnected.")});this.leapControl.loop(function(e){for(var t=0;t<Kiwi.Plugins.LEAPController.hands.length-1;t++){Kiwi.Plugins.LEAPController.hands[t].active=false;for(var n=0;n<Kiwi.Plugins.LEAPController.hands[t].pointables.length-1;n++){Kiwi.Plugins.LEAPController.hands[t].pointables[n].active=false}}var r=[];for(var t in e.handsMap){var i=e.handsMap[t];r.push(i)}for(var n=0;n<r.length;n++){var s=[];for(var o in r[n].pointables){var u=r[n].pointables[o];s.push(u)}for(var a=0;a<s.length;a++){Kiwi.Plugins.LEAPController.hands[n].pointables[a].active=true;Kiwi.Plugins.LEAPController.hands[n].pointables[a].pointableLength=s[a].length;Kiwi.Plugins.LEAPController.hands[n].pointables[a].pointableWidth=s[a].width;Kiwi.Plugins.LEAPController.hands[n].pointables[a].tipX=s[a].tipPosition[0];Kiwi.Plugins.LEAPController.hands[n].pointables[a].tipY=s[a].tipPosition[1];Kiwi.Plugins.LEAPController.hands[n].pointables[a].tipZ=s[a].tipPosition[2];Kiwi.Plugins.LEAPController.hands[n].pointables[a].directionX=s[a].direction[0];Kiwi.Plugins.LEAPController.hands[n].pointables[a].directionY=s[a].direction[1];Kiwi.Plugins.LEAPController.hands[n].pointables[a].directionZ=s[a].direction[2];Kiwi.Plugins.LEAPController.hands[n].pointables[a].touchDistance=s[a].touchDistance;Kiwi.Plugins.LEAPController.hands[n].pointables[a].touchZone=s[a].touchZone}Kiwi.Plugins.LEAPController.hands[n].active=true;Kiwi.Plugins.LEAPController.hands[n].posX=r[n].palmPosition[0];Kiwi.Plugins.LEAPController.hands[n].posY=r[n].palmPosition[1];Kiwi.Plugins.LEAPController.hands[n].posZ=r[n].palmPosition[2];Kiwi.Plugins.LEAPController.hands[n].directionX=r[n].direction[0];Kiwi.Plugins.LEAPController.hands[n].directionY=r[n].direction[1];Kiwi.Plugins.LEAPController.hands[n].directionZ=r[n].direction[2];Kiwi.Plugins.LEAPController.hands[n].palmNormalX=r[n].palmNormal[0];Kiwi.Plugins.LEAPController.hands[n].palmNormalY=r[n].palmNormal[1];Kiwi.Plugins.LEAPController.hands[n].palmNormalZ=r[n].palmNormal[2];Kiwi.Plugins.LEAPController.hands[n].roll=Math.atan2(Kiwi.Plugins.LEAPController.hands[n].palmNormalX,-Kiwi.Plugins.LEAPController.hands[n].palmNormalY);Kiwi.Plugins.LEAPController.hands[n].pitch=Math.atan2(Kiwi.Plugins.LEAPController.hands[n].directionY,-Kiwi.Plugins.LEAPController.hands[n].directionZ);Kiwi.Plugins.LEAPController.hands[n].yaw=Math.atan2(Kiwi.Plugins.LEAPController.hands[n].directionX,-Kiwi.Plugins.LEAPController.hands[n].directionZ)}});return this};Kiwi.Plugins.LEAPController.update=function(){}