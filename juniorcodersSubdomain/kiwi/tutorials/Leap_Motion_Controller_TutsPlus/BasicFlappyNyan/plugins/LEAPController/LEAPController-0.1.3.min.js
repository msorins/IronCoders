Kiwi.Plugins.LEAPController={name:"LEAPController",version:"0.1.3"};Kiwi.PluginManager.register(Kiwi.Plugins.LEAPController);Kiwi.Plugins.LEAPController.PointableObject=function(){this.pointableLength=undefined;this.pointableWidth=undefined;this.tipX=undefined;this.tipY=undefined;this.tipZ=undefined;this.directionX=undefined;this.directionY=undefined;this.directionZ=undefined;this.touchDistance=undefined;this.touchZone=undefined};Kiwi.Plugins.LEAPController.HandObject=function(){this.active=false;this.posX=undefined;this.posY=undefined;this.posZ=undefined;this.directionX=undefined;this.directionY=undefined;this.directionZ=undefined;this.palmNormalX=undefined;this.palmNormalY=undefined;this.palmNormalZ=undefined;this.roll=undefined;this.pitch=undefined;this.yaw=undefined;this.pointables=[new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject,new Kiwi.Plugins.LEAPController.PointableObject]};Kiwi.Plugins.LEAPController.hands=[];Kiwi.Plugins.LEAPController.hands.push(new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject,new Kiwi.Plugins.LEAPController.HandObject);Kiwi.Plugins.LEAPController.leapControl=undefined;Kiwi.Plugins.LEAPController.active=false;Kiwi.Plugins.LEAPController.currentHand=new Kiwi.Plugins.LEAPController.HandObject;Kiwi.Plugins.LEAPController.controllerConnected=false;Kiwi.Plugins.LEAPController.onConnect=new Kiwi.Signal;Kiwi.Plugins.LEAPController.onDisconnect=new Kiwi.Signal;Kiwi.Plugins.LEAPController.createController=function(e){this.leapControl=new Leap.Controller({enableGestures:true});Kiwi.Plugins.LEAPController.leapControl.on("deviceConnected",function(){Kiwi.Plugins.LEAPController.controllerConnected=true;Kiwi.Plugins.LEAPController.onConnect.dispatch();console.log("LEAP Motion Controller connected.")});Kiwi.Plugins.LEAPController.leapControl.on("deviceFrame",function(){if(!Kiwi.Plugins.LEAPController.controllerConnected){Kiwi.Plugins.LEAPController.controllerConnected=true}});Kiwi.Plugins.LEAPController.leapControl.on("deviceDisconnected",function(){Kiwi.Plugins.LEAPController.controllerConnected=false;Kiwi.Plugins.LEAPController.onDisconnect.dispatch();console.log("LEAP Motion Controller disconnected.")});this.leapControl.loop(function(e){for(var t=0;t<Kiwi.Plugins.LEAPController.hands.length-1;t++){Kiwi.Plugins.LEAPController.hands[t].active=false}var n=[];for(var t in e.handsMap){var r=e.handsMap[t];n.push(r)}for(var i=0;i<n.length;i++){var s=[];for(var o in n[i].pointables){var u=n[i].pointables[o];s.push(u)}for(var a=0;a<s.length;a++){Kiwi.Plugins.LEAPController.hands[i].pointables[a].pointableLength=s[a].length;Kiwi.Plugins.LEAPController.hands[i].pointables[a].pointableWidth=s[a].width;Kiwi.Plugins.LEAPController.hands[i].pointables[a].tipX=s[a].tipPosition[0];Kiwi.Plugins.LEAPController.hands[i].pointables[a].tipY=s[a].tipPosition[1];Kiwi.Plugins.LEAPController.hands[i].pointables[a].tipZ=s[a].tipPosition[2];Kiwi.Plugins.LEAPController.hands[i].pointables[a].directionX=s[a].direction[0];Kiwi.Plugins.LEAPController.hands[i].pointables[a].directionY=s[a].direction[1];Kiwi.Plugins.LEAPController.hands[i].pointables[a].directionZ=s[a].direction[2];Kiwi.Plugins.LEAPController.hands[i].pointables[a].touchDistance=s[a].touchDistance;Kiwi.Plugins.LEAPController.hands[i].pointables[a].touchZone=s[a].touchZone}Kiwi.Plugins.LEAPController.hands[i].active=true;Kiwi.Plugins.LEAPController.hands[i].posX=n[i].palmPosition[0];Kiwi.Plugins.LEAPController.hands[i].posY=n[i].palmPosition[1];Kiwi.Plugins.LEAPController.hands[i].posZ=n[i].palmPosition[2];Kiwi.Plugins.LEAPController.hands[i].directionX=n[i].direction[0];Kiwi.Plugins.LEAPController.hands[i].directionY=n[i].direction[1];Kiwi.Plugins.LEAPController.hands[i].directionZ=n[i].direction[2];Kiwi.Plugins.LEAPController.hands[i].palmNormalX=n[i].palmNormal[0];Kiwi.Plugins.LEAPController.hands[i].palmNormalY=n[i].palmNormal[1];Kiwi.Plugins.LEAPController.hands[i].palmNormalZ=n[i].palmNormal[2];Kiwi.Plugins.LEAPController.hands[i].roll=Math.atan2(Kiwi.Plugins.LEAPController.hands[i].palmNormalX,-Kiwi.Plugins.LEAPController.hands[i].palmNormalY);Kiwi.Plugins.LEAPController.hands[i].pitch=Math.atan2(Kiwi.Plugins.LEAPController.hands[i].directionY,-Kiwi.Plugins.LEAPController.hands[i].directionZ);Kiwi.Plugins.LEAPController.hands[i].yaw=Math.atan2(Kiwi.Plugins.LEAPController.hands[i].directionX,-Kiwi.Plugins.LEAPController.hands[i].directionZ)}});return this};Kiwi.Plugins.LEAPController.update=function(){}